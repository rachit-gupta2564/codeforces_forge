import java.io.*;import java.util.*; public class G_2_Monotone_Monochrome_Matrices_Hard_Version {    static class Reader {        final private int BUFFER_SIZE = 1 << 16;        private DataInputStream din;        private byte[] buffer;        private int bufferPointer, bytesRead;         public Reader() {            din = new DataInputStream(System.in);            buffer = new byte[BUFFER_SIZE];            bufferPointer = bytesRead = 0;        }         public Reader(String file_name) throws IOException {            din = new DataInputStream(new FileInputStream(file_name));            buffer = new byte[BUFFER_SIZE];            bufferPointer = bytesRead = 0;        }         public String readLine() throws IOException {            byte[] buf = new byte[1024];            int cnt = 0, c;            while ((c = read()) != -1) {                if (c == '\n' || c == '\r') {                    if (cnt == 0 && (c == '\n' || c == '\r')) continue;                    break;                }                if (cnt >= buf.length) {                    byte[] newBuf = new byte[buf.length * 2];                    System.arraycopy(buf, 0, newBuf, 0, buf.length);                    buf = newBuf;                }                buf[cnt++] = (byte) c;            }            return new String(buf, 0, cnt);        }         public int nextInt() throws IOException {            int ret = 0;            byte c = read();            while (c <= ' ') c = read();            boolean neg = (c == '-');            if (neg) c = read();            do {                ret = ret * 10 + c - '0';            } while ((c = read()) >= '0' && c <= '9');            bufferPointer--;            return neg ? -ret : ret;        }         public long nextLong() throws IOException {            long ret = 0;            byte c = read();            while (c <= ' ') c = read();            boolean neg = (c == '-');            if (neg) c = read();            do {                ret = ret * 10 + c - '0';            } while ((c = read()) >= '0' && c <= '9');            bufferPointer--;            return neg ? -ret : ret;        }         public double nextDouble() throws IOException {            double ret = 0, div = 1;            byte c = read();            while (c <= ' ') c = read();            boolean neg = (c == '-');            if (neg) c = read();            do {                ret = ret * 10 + c - '0';            } while ((c = read()) >= '0' && c <= '9');            if (c == '.') {                while ((c = read()) >= '0' && c <= '9') {                    ret += (c - '0') / (div *= 10);                }            }            bufferPointer--;            return neg ? -ret : ret;        }         public char nextChar() throws IOException {            byte c = read();            while (c <= ' ') c = read();            return (char) c;        }         private byte read() throws IOException {            if (bufferPointer >= bytesRead) {                bytesRead = din.read(buffer, 0, BUFFER_SIZE);                bufferPointer = 0;                if (bytesRead <= 0) return -1;            }            return buffer[bufferPointer++];        }         public void close() throws IOException {            if (din == null) return;            din.close();        }    }     static Reader sc = new Reader();    static BufferedWriter bw = new BufferedWriter(new OutputStreamWriter(System.out));    static final boolean DEBUG = false;    static final long MOD = 1000000007;    static final int[] DX4 = {-1, 0, 1, 0};    static final int[] DY4 = {0, 1, 0, -1};    static final int[] DX8 = {-1, -1, -1, 0, 0, 1, 1, 1};    static final int[] DY8 = {-1, 0, 1, -1, 1, -1, 0, 1};     public static void main(String args[]) throws IOException {        /*         * For integer input: int n = inputInt();         * For long input: long n = inputLong();         * For double input: double n = inputDouble();         * For String input: String s = inputString();         * For char input: char c = inputChar();         * For array input: int[] arr = inputIntArray(n);         * For matrix input: int[][] mat = inputIntMatrix(n, m);         * For printing without space: print(a + "");         * For printing with space: printSp(a + "");         * For printing with new line: println(a + "");         * For formatted double: printDouble(d, precision);         * For debug: debug(s);         */        int t = inputInt();        while (t-- > 0) {            int n = inputInt();            int q = inputInt();            int a[] = new int[n + 2];            int b[] = new int[n + 2];             int rowDeg[] = new int[n + 2];            int colDeg[] = new int[n + 2];             int deg[] = new int[n + 2];            deg[0] = n;             int no = 0;            for (int i = 0; i < q; i++) {                int u = inputInt();                int v = inputInt();                 int r = rowDeg[u];                int ia = deg[r + 1] + 1;                if (a[ia] == b[ia]) no++;                else if (a[ia] + 1 == b[ia]) no--;                a[ia]++;                rowDeg[u]++;                deg[rowDeg[u]]++;                 int c = colDeg[v];                int ib = c + 1;                if (a[ib] == b[ib]) no++;                else if (b[ib] + 1 == a[ib]) no--;                b[ib]++;                colDeg[v]++;                 if (no == 0) println("YES");                else println("NO");            }        }        sc.close();        bw.flush();        bw.close();    }     public static int inputInt() throws IOException { return sc.nextInt(); }    public static long inputLong() throws IOException { return sc.nextLong(); }    public static double inputDouble() throws IOException { return sc.nextDouble(); }    public static String inputString() throws IOException { return sc.readLine(); }    public static char inputChar() throws IOException { return sc.nextChar(); }     public static int[] inputIntArray(int n) throws IOException {        int[] arr = new int[n];        for (int i = 0; i < n; i++) arr[i] = sc.nextInt();        return arr;    }     public static long[] inputLongArray(int n) throws IOException {        long[] arr = new long[n];        for (int i = 0; i < n; i++) arr[i] = sc.nextLong();        return arr;    }     public static int[][] inputIntMatrix(int n, int m) throws IOException {        int[][] matrix = new int[n][m];        for (int i = 0; i < n; i++)            for (int j = 0; j < m; j++)                matrix[i][j] = sc.nextInt();        return matrix;    }     public static void print(String a) throws IOException { bw.write(a); }    public static void printSp(String a) throws IOException { bw.write(a + " "); }    public static void println(String a) throws IOException { bw.write(a + "\n"); }    public static void printDouble(double d, int precision) throws IOException {        bw.write(String.format("%." + precision + "f", d));    }     public static void debug(String s) throws IOException {        if (DEBUG) {            bw.write("DEBUG: " + s + "\n");            bw.flush();        }    }     public static long modAdd(long a, long b) {        long res = a + b;        if (res >= MOD) res -= MOD;        if (res < 0) res += MOD;        return res;    }    public static long modMul(long a, long b) { return (a % MOD * b % MOD) % MOD; }    public static long modPow(long base, long exp) {        long result = 1;        base %= MOD;        while (exp > 0) {            if ((exp & 1) == 1) result = modMul(result, base);            base = modMul(base, base);            exp >>= 1;        }        return result;    }     public static long gcd(long a, long b) {        while (b != 0) {            long t = a % b;            a = b;            b = t;        }        return a >= 0 ? a : -a;    }    public static long lcm(long a, long b) {        return a / gcd(a, b) * b;    }     public static int lowerBound(int[] a, int x) {        int l = 0, r = a.length;        while (l < r) {            int m = (l + r) >>> 1;            if (a[m] < x) l = m + 1;            else r = m;        }        return l;    }    public static int upperBound(int[] a, int x) {        int l = 0, r = a.length;        while (l < r) {            int m = (l + r) >>> 1;            if (a[m] <= x) l = m + 1;            else r = m;        }        return l;    }     static final Random RNG = new Random();    public static void shuffle(int[] a) {        for (int i = a.length - 1; i > 0; i--) {            int j = RNG.nextInt(i + 1);            int t = a[i]; a[i] = a[j]; a[j] = t;        }    }    public static void sort(int[] a) {        shuffle(a);        Arrays.sort(a);    }}